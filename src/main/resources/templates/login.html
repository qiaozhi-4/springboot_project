<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!--添加Bootstrap和fontawesome的样式-->
    <link th:href="@{/css/theme-chalk-2.15.7.css}" href="../static/css/theme-chalk-2.15.7.css" rel="stylesheet"/>

</head>


<body>


<div id="app">

    <el-form action="/login" method="post" :model="loginForm" ref="loginForm" label-width="160px">

        <el-form-item label="用户名" label-width="60px">
            <el-input name="username" v-model="loginForm.username" autocomplete="off"></el-input>
        </el-form-item>

        <el-form-item label="密码" label-width="60px">
            <el-input name="password" v-model="loginForm.password" autocomplete="off"></el-input>
        </el-form-item>

        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/></br>

        <el-form-item label="" label-width="60px">
            <input checked="checked" type="checkbox" name="remember-me"/>记住我<br/>
        </el-form-item>

        <el-form-item label="" label-width="60px">
            <el-input type="submit" autocomplete="off">点击登录</el-input>
        </el-form-item>


        <el-form-item>
            <el-row>
                <el-col :span="6">第三方登录:</el-col>
                <el-col :span="2"><a href="/login/gitee"><img width="25px" src="img/logo-black.svg"></a>
                </el-col>
            </el-row>
        </el-form-item>

    </el-form>


</div>
</body>

<script th:src="@{/js/vue-2.6.14.js}" src="../static/js/vue-2.6.14.js"></script>
<script th:src="@{/js/vue-router.js}" src="../static/js/vue-router.js"></script>
<script th:src="@{/js/axios-0.26.js}" src="../static/js/axios-0.26.js"></script>
<script th:src="@{/js/element-ui-2.15.7.js}" src="../static/js/element-ui-2.15.7.js"></script>
<script th:src="@{/js/video-vue.js}" src="../static/js/video-vue.js"></script>
<script th:src="@{/js/video.min.js}" src="../static/js/video.min.js"></script>
<script th:inline="javascript">
    // <!--    <div th:if="${param.error}">登录失败！</div>-->
    // <!--    <div th:if="${param.logou}">你已登出！</div>-->
    var error = [[${param.error}]]; // 字符串会自动添加""，数字直接显示
    var logout = [[${param.logout}]]; // 字符串会自动添加""，数字直接显示

    new Vue({
        el: '#app',
        data: {
            loginForm: {
                username: 'admin',
                password: 'admin',
            },
        },
        mounted: function () {
            if (error != null) {
                this.$message.error('登录失败');
            }
            if (logout != null) {
                this.$message.warning('你已登出');
            }
        }
    })
</script>

</html>